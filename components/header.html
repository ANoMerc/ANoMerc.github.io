<!-- ════════════════════════════════════════════════════════════════════════════
     ProjectWB — Header Component v2.1
     Исправление: BUG-004 (мобильное меню), FEAT-005 (логотип PWB)
     ════════════════════════════════════════════════════════════════════════════ -->

<nav id="nav">
  <!-- Логотип → переход на homepage.html -->
  <a href="{{ROOT}}homepage.html" class="nav-logo">PWB<span>.</span></a>
  
  <!-- Hamburger меню для мобильных (BUG-004) -->
  <button class="nav-toggle" id="navToggle" aria-label="Меню">
    <span></span>
    <span></span>
    <span></span>
  </button>
  
  <!-- Навигация -->
  <ul class="nav-links" id="navLinks">
    <li><a href="{{ROOT}}index.html">Резюме</a></li>
    <li><a href="{{ROOT}}tools.html">Инструменты</a></li>
    <li><a href="{{ROOT}}knowledge.html">База знаний</a></li>
    <li><a href="{{ROOT}}cases.html">Кейсы</a></li>
    <li><a href="{{ROOT}}community.html">Сообщество</a></li>
  </ul>
  
  <!-- Правая часть: доступность + тема -->
  <div class="nav-right">
    <a href="{{ROOT}}accessibility.html" class="nav-cta" title="Настройки доступности">♿</a>
    <div id="theme-toggle-container"></div>
  </div>
</nav>

<script>
  // Мобильное меню (BUG-004)
  (function() {
    const navToggle = document.getElementById('navToggle');
    const navLinks = document.getElementById('navLinks');
    
    if (navToggle && navLinks) {
      navToggle.addEventListener('click', () => {
        navLinks.classList.toggle('active');
        navToggle.classList.toggle('active');
      });
      
      // Закрыть меню при клике на ссылку
      navLinks.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          navLinks.classList.remove('active');
          navToggle.classList.remove('active');
        });
      });
      
      // Закрыть меню при клике вне
      document.addEventListener('click', (e) => {
        if (!navToggle.contains(e.target) && !navLinks.contains(e.target)) {
          navLinks.classList.remove('active');
          navToggle.classList.remove('active');
        }
      });
    }
  })();
</script>
